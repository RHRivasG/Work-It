<ng-template #choice>
  <div class="bg-white p-4 rounded-lg shadow-lg w-full">
    <div class="flex flex-row">
      <p class="flex-auto font-semibold">Redirect to...</p>
      <button class="shrink-1 text-gray-400" (click)="closeChoice()">
        <fa-icon [icon]="closeIcon"></fa-icon>
      </button>
    </div>
    <div class="flex flex-col gap-2 pt-4 pb-2">
      <a [routerLink]="['/social/profile', id]" (click)="closeChoice()" class="p-2 rounded-md hover:bg-gray-200">
        My profile
      </a>
      <a [routerLink]="['/fitness', 'routines']" (click)="closeChoice()" class="p-2 rounded-md hover:bg-gray-200">
        My routines
      </a>
    </div>
  </div>
</ng-template>
<div class="flex flex-col h-screen relative">
  <header class="header z-40" id="header">
    <div class="logo">
      <a class="logo-link" href="/">
        <img class="lg:w-1/3 mr-auto md:mr-0" src="assets/Logo.svg">
        <span class="hidden lg:block">Just Do It!</span>
      </a>
    </div>
    <div class="flex-auto col-span-4">
      <div *ngIf="activatedRoute.layout" class="search-bar">
        <input [(ngModel)]="searchService.searchValue" class="search-bar-input">
        <fa-icon [icon]="searchIcon" class="search-bar-icon"></fa-icon>
      </div>
    </div>
    <div class="navigation">
      <a routerLink="/fitness/trainings" class="hidden lg:block">
        <fa-icon [ngClass]="activatedRoute.home ? 'active' : ''" [icon]="homeIcon" class="navigation-icon"></fa-icon>
      </a>
      <button (click)="openUserChoice(choice)" class="hidden lg:block">
        <fa-icon [ngClass]="activatedRoute.profile ? 'active' : ''" [icon]="userIcon" class="navigation-icon"></fa-icon>
      </button>
      <a [routerLink]="['/fitness/trainer/trainings']" class="hidden lg:block">
        <fa-icon [ngClass]="activatedRoute.trainings ? 'active' : ''" [icon]="trainingsIcon" class="navigation-icon"></fa-icon>
      </a>
      <button (click)="logout()">
        <fa-icon [icon]="logoutIcon" class="navigation-icon active"></fa-icon>
      </button>
    </div>
  </header>
  <main class="fade-in flex-auto overflow-auto">
    <ng-content></ng-content>
  </main>
  <footer class="lg:hidden flex flex-row items-center justify-evenly gap-4 bg-primary flex flex-row justify-even px-4 py-5">
    <a routerLink="/fitness/trainings">
      <fa-icon [ngClass]="activatedRoute.home ? 'active' : ''" [icon]="homeIcon" class="navigation-icon"></fa-icon>
    </a>
    <a [routerLink]="['/social/profile', id]">
      <fa-icon [ngClass]="activatedRoute.profile ? 'active' : ''" [icon]="userIcon" class="navigation-icon"></fa-icon>
    </a>
    <a [routerLink]="['/fitness/trainings', id]">
      <fa-icon [ngClass]="activatedRoute.trainings ? 'active' : ''" [icon]="trainingsIcon" class="navigation-icon"></fa-icon>
    </a>
  </footer>
</div>
